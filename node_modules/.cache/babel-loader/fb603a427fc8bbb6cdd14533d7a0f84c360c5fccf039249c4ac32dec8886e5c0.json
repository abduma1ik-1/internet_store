{"ast":null,"code":"import { Dispatch, createSlice } from \"@reduxjs/toolkit\";\nimport instance, { token } from '../../../api/axios_config';\nconst initialState = {\n  error: false,\n  loading: false,\n  results: null\n};\nconst URL = 'products/';\nconst productsSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    setItem: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.loading = false;\n      state.error = false;\n      state.results = payload;\n    },\n    setError: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.error = payload;\n    }\n  }\n});\nexport const {\n  setItem,\n  setError\n} = productsSlice.actions;\nexport default productsSlice.reducer;\nexport function getProducts() {\n  return async dispatch => {\n    instance.get(URL).then(response => {\n      dispatch(setItem(response.data));\n    }).catch(er => {\n      var _er$response;\n      dispatch(setError((_er$response = er.response) === null || _er$response === void 0 ? void 0 : _er$response.data));\n    });\n  };\n}\nexport function addProduct(data) {\n  return async dispatch => {\n    instance.post(URL, data, {\n      headers: {\n        Authorization: `Token ${token}`\n      }\n    }).then(response => {\n      dispatch(setItem(response.data));\n    }).catch(er => {\n      var _er$response2;\n      dispatch(setError((_er$response2 = er.response) === null || _er$response2 === void 0 ? void 0 : _er$response2.data));\n    });\n  };\n}","map":{"version":3,"names":["Dispatch","createSlice","instance","token","initialState","error","loading","results","URL","productsSlice","name","reducers","setItem","state","_ref","payload","setError","_ref2","actions","reducer","getProducts","dispatch","get","then","response","data","catch","er","_er$response","addProduct","post","headers","Authorization","_er$response2"],"sources":["/Users/macbookair/Desktop/Projects/internet_store/src/redux/slices/products/index.js"],"sourcesContent":["import { Dispatch, createSlice } from \"@reduxjs/toolkit\";\nimport instance, { token } from '../../../api/axios_config'\n\nconst initialState = {\n    error: false,\n    loading: false,\n    results: null,\n};\n\nconst URL = 'products/'\n\nconst productsSlice = createSlice({\n    name: \"products\",\n    initialState,\n    reducers: {\n        setItem: (state, { payload }) => {\n            state.loading = false;\n            state.error = false;\n            state.results = payload;\n        },\n        setError: (state, { payload }) => {\n            state.error = payload;\n        },\n    },\n});\n\nexport const { setItem, setError } = productsSlice.actions;\nexport default productsSlice.reducer;\n\nexport function getProducts() {\n    return async (dispatch) => {\n        instance\n            .get(URL)\n            .then((response) => {\n                dispatch(setItem(response.data))\n            })\n            .catch((er) => {\n                dispatch(setError(er.response?.data))\n            });\n    };\n}\n\nexport function addProduct(data) {\n    return async (dispatch) => {\n        instance\n            .post(URL, data, {\n                headers: {\n                    Authorization: `Token ${token}`\n                }\n            })\n            .then((response) => {\n                dispatch(setItem(response.data))\n            })\n            .catch((er) => {\n                dispatch(setError(er.response?.data))\n            });\n    };\n}\n\n\n\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,OAAOC,QAAQ,IAAIC,KAAK,QAAQ,2BAA2B;AAE3D,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,KAAK;EACZC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;AACb,CAAC;AAED,MAAMC,GAAG,GAAG,WAAW;AAEvB,MAAMC,aAAa,GAAGR,WAAW,CAAC;EAC9BS,IAAI,EAAE,UAAU;EAChBN,YAAY;EACZO,QAAQ,EAAE;IACNC,OAAO,EAAEA,CAACC,KAAK,EAAAC,IAAA,KAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC,GAAAD,IAAA;MACxBD,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACR,KAAK,GAAG,KAAK;MACnBQ,KAAK,CAACN,OAAO,GAAGQ,OAAO;IAC3B,CAAC;IACDC,QAAQ,EAAEA,CAACH,KAAK,EAAAI,KAAA,KAAkB;MAAA,IAAhB;QAAEF;MAAQ,CAAC,GAAAE,KAAA;MACzBJ,KAAK,CAACR,KAAK,GAAGU,OAAO;IACzB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,OAAO;EAAEI;AAAS,CAAC,GAAGP,aAAa,CAACS,OAAO;AAC1D,eAAeT,aAAa,CAACU,OAAO;AAEpC,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC1B,OAAO,MAAOC,QAAQ,IAAK;IACvBnB,QAAQ,CACHoB,GAAG,CAACd,GAAG,CAAC,CACRe,IAAI,CAAEC,QAAQ,IAAK;MAChBH,QAAQ,CAACT,OAAO,CAACY,QAAQ,CAACC,IAAI,CAAC,CAAC;IACpC,CAAC,CAAC,CACDC,KAAK,CAAEC,EAAE,IAAK;MAAA,IAAAC,YAAA;MACXP,QAAQ,CAACL,QAAQ,EAAAY,YAAA,GAACD,EAAE,CAACH,QAAQ,cAAAI,YAAA,uBAAXA,YAAA,CAAaH,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC;EACV,CAAC;AACL;AAEA,OAAO,SAASI,UAAUA,CAACJ,IAAI,EAAE;EAC7B,OAAO,MAAOJ,QAAQ,IAAK;IACvBnB,QAAQ,CACH4B,IAAI,CAACtB,GAAG,EAAEiB,IAAI,EAAE;MACbM,OAAO,EAAE;QACLC,aAAa,EAAG,SAAQ7B,KAAM;MAClC;IACJ,CAAC,CAAC,CACDoB,IAAI,CAAEC,QAAQ,IAAK;MAChBH,QAAQ,CAACT,OAAO,CAACY,QAAQ,CAACC,IAAI,CAAC,CAAC;IACpC,CAAC,CAAC,CACDC,KAAK,CAAEC,EAAE,IAAK;MAAA,IAAAM,aAAA;MACXZ,QAAQ,CAACL,QAAQ,EAAAiB,aAAA,GAACN,EAAE,CAACH,QAAQ,cAAAS,aAAA,uBAAXA,aAAA,CAAaR,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC;EACV,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}