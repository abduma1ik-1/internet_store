{"ast":null,"code":"import { Dispatch, createSlice } from \"@reduxjs/toolkit\";\nimport instance from '../../../api/axios_config';\nconst initialState = {\n  error: false,\n  loading: false,\n  results: null\n};\nconst URL = 'auth/login/';\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    setItem: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.loading = false;\n      state.error = false;\n      state.results = payload;\n    },\n    setError: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.error = payload;\n    }\n  }\n});\nexport const {\n  setItem,\n  setError\n} = authSlice.actions;\nexport default authSlice.reducer;\nexport function Login(data) {\n  return async dispatch => {\n    instance.post(URL, data).then(response => {\n      dispatch(setItem(response.data));\n      localStorage.setItem('token', response.data.token);\n      window.location.replace('/');\n    }).catch(er => {\n      var _er$response;\n      dispatch(setError((_er$response = er.response) === null || _er$response === void 0 ? void 0 : _er$response.data));\n    });\n  };\n}\n_c = Login;\nexport function Regis(data) {\n  return async dispatch => {\n    instance.post('auth/register/', data).then(response => {\n      dispatch(setItem(response.data));\n      localStorage.setItem('token', response.data.token);\n      window.location.replace('/');\n    }).catch(er => {\n      var _er$response2;\n      dispatch(setError((_er$response2 = er.response) === null || _er$response2 === void 0 ? void 0 : _er$response2.data));\n    });\n  };\n}\n_c2 = Regis;\nvar _c, _c2;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"Regis\");","map":{"version":3,"names":["Dispatch","createSlice","instance","initialState","error","loading","results","URL","authSlice","name","reducers","setItem","state","_ref","payload","setError","_ref2","actions","reducer","Login","data","dispatch","post","then","response","localStorage","token","window","location","replace","catch","er","_er$response","_c","Regis","_er$response2","_c2","$RefreshReg$"],"sources":["/Users/macbookair/Desktop/Projects/internet_store/src/redux/slices/auth/index.js"],"sourcesContent":["import { Dispatch, createSlice } from \"@reduxjs/toolkit\";\nimport instance from '../../../api/axios_config'\n\nconst initialState = {\n    error: false,\n    loading: false,\n    results: null,\n};\n\nconst URL = 'auth/login/'\n\nconst authSlice = createSlice({\n    name: \"auth\",\n    initialState,\n    reducers: {\n        setItem: (state, { payload }) => {\n            state.loading = false;\n            state.error = false;\n            state.results = payload;\n        },\n        setError: (state, { payload }) => {\n            state.error = payload;\n        },\n    },\n});\n\nexport const { setItem, setError } = authSlice.actions;\nexport default authSlice.reducer;\n\nexport function Login(data) {\n    return async (dispatch) => {\n        instance\n            .post(URL, data)\n            .then((response) => {\n                dispatch(setItem(response.data))\n                localStorage.setItem('token', response.data.token)\n                window.location.replace('/')\n            })\n            .catch((er) => {\n                dispatch(setError(er.response?.data))\n            });\n    };\n}\n\nexport function Regis(data) {\n    return async (dispatch) => {\n        instance\n            .post('auth/register/', data)\n            .then((response) => {\n                dispatch(setItem(response.data))\n                localStorage.setItem('token', response.data.token)\n                window.location.replace('/')\n            })\n            .catch((er) => {\n                dispatch(setError(er.response?.data))\n            });\n    };\n}\n\n\n\n\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,OAAOC,QAAQ,MAAM,2BAA2B;AAEhD,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,KAAK;EACZC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;AACb,CAAC;AAED,MAAMC,GAAG,GAAG,aAAa;AAEzB,MAAMC,SAAS,GAAGP,WAAW,CAAC;EAC1BQ,IAAI,EAAE,MAAM;EACZN,YAAY;EACZO,QAAQ,EAAE;IACNC,OAAO,EAAEA,CAACC,KAAK,EAAAC,IAAA,KAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC,GAAAD,IAAA;MACxBD,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACR,KAAK,GAAG,KAAK;MACnBQ,KAAK,CAACN,OAAO,GAAGQ,OAAO;IAC3B,CAAC;IACDC,QAAQ,EAAEA,CAACH,KAAK,EAAAI,KAAA,KAAkB;MAAA,IAAhB;QAAEF;MAAQ,CAAC,GAAAE,KAAA;MACzBJ,KAAK,CAACR,KAAK,GAAGU,OAAO;IACzB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,OAAO;EAAEI;AAAS,CAAC,GAAGP,SAAS,CAACS,OAAO;AACtD,eAAeT,SAAS,CAACU,OAAO;AAEhC,OAAO,SAASC,KAAKA,CAACC,IAAI,EAAE;EACxB,OAAO,MAAOC,QAAQ,IAAK;IACvBnB,QAAQ,CACHoB,IAAI,CAACf,GAAG,EAAEa,IAAI,CAAC,CACfG,IAAI,CAAEC,QAAQ,IAAK;MAChBH,QAAQ,CAACV,OAAO,CAACa,QAAQ,CAACJ,IAAI,CAAC,CAAC;MAChCK,YAAY,CAACd,OAAO,CAAC,OAAO,EAAEa,QAAQ,CAACJ,IAAI,CAACM,KAAK,CAAC;MAClDC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC;IAChC,CAAC,CAAC,CACDC,KAAK,CAAEC,EAAE,IAAK;MAAA,IAAAC,YAAA;MACXX,QAAQ,CAACN,QAAQ,EAAAiB,YAAA,GAACD,EAAE,CAACP,QAAQ,cAAAQ,YAAA,uBAAXA,YAAA,CAAaZ,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC;EACV,CAAC;AACL;AAACa,EAAA,GAbed,KAAK;AAerB,OAAO,SAASe,KAAKA,CAACd,IAAI,EAAE;EACxB,OAAO,MAAOC,QAAQ,IAAK;IACvBnB,QAAQ,CACHoB,IAAI,CAAC,gBAAgB,EAAEF,IAAI,CAAC,CAC5BG,IAAI,CAAEC,QAAQ,IAAK;MAChBH,QAAQ,CAACV,OAAO,CAACa,QAAQ,CAACJ,IAAI,CAAC,CAAC;MAChCK,YAAY,CAACd,OAAO,CAAC,OAAO,EAAEa,QAAQ,CAACJ,IAAI,CAACM,KAAK,CAAC;MAClDC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC;IAChC,CAAC,CAAC,CACDC,KAAK,CAAEC,EAAE,IAAK;MAAA,IAAAI,aAAA;MACXd,QAAQ,CAACN,QAAQ,EAAAoB,aAAA,GAACJ,EAAE,CAACP,QAAQ,cAAAW,aAAA,uBAAXA,aAAA,CAAaf,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC;EACV,CAAC;AACL;AAACgB,GAAA,GAbeF,KAAK;AAAA,IAAAD,EAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAJ,EAAA;AAAAI,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}